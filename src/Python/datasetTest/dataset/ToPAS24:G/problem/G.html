<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2 Final//EN">


<HTML>
<HEAD>
 <script type="text/javascript" id="MathJax-script" async
           src="../../tex-svg.js"></script>
</HEAD>
<BODY>

<H1><A NAME="SECTION00010000000000000000">
Problema G: Festa da empresa</A>
</H1>

<P>
<BR>

<TABLE CELLPADDING=2 ALIGN="RIGHT">
<TR><TD>
  
<IMG
 WIDTH="291" HEIGHT="182" BORDER="0"
  SRC="office-party-1.png"
 ALT="image imagem", align = "right"></TD>
 <!-- width 291 height 182 -->
 </TR>
  </TABLE>


Como o funcionário mais jovem da <em>Tip-Topas, Lda.</em>, tens a tarefa
de organizar a festa de Natal da empresa. Tal como acontece com
todos os organizadores de festas, o teu objetivo é, obviamente,
maximizar a quantidade de diversão (medida, claro, em
  <em>Unidades Standard de Diversão</em> ou <em>USD</em>s). <br></br>

Uma vez que algumas pessoas são mais carismáticas do que outras,
estimou-se previamente a quantidade de diversão que cada funcionário
trará à festa.  
A soma da quantidade de diversão dos funcionários presentes na festa
indica a quantidade total de diversão na festa.
Bem, há um pequeno problema: é um facto bem conhecido que
qualquer pessoa cujo supervisor imediato também esteja na festa não se
vai divertir nada. Portanto, se todos os funcionários da empresa
estiverem na festa, apenas o CEO se vai divertir, e todos os outros
vão ficar com riso nervoso a tentar parecer naturais enquanto procuram
o seu supervisor pelo canto do olho...  <br></br>

O objetivo é descobrir quem convidar para a festa, de modo a maximizar a
quantidade total de diversão.

  
 
  
<H2><A NAME="SECTION00011000000000000000">
Tarefa</A>
</H2>
  

Escreva um programa que lê a descrição da hierarquia da empresa e a
quantidade de diversão de cada funcionário e calcula a
maior quantidade total de diversão que é possível ter na festa.  Os funcionários
(incluindo o CEO) são numerados de 1 a \(N\).  Cada funcionário
supervisiona exatamente dois outros ou então não supervisiona ninguém.
Além disso, cada funcionário tem exatamente um supervisor, 
exceto o CEO, que não tem nenhum. 
Pode ainda assumir que os funcionários são numerados por
ordem hierárquica, isto é, que se \(i\) supervisiona \(j\), então
  \(   i <  j\).
Logo, o CEO terá sempre o número 1.


 <H2><A NAME="SECTION00012000000000000000">
Input</A>
</H2>

A primeira linha da entrada tem um inteiro \(N\),
que representa o número de funcionários da empresa.  <br></br>

Seguem-se \(N\) linhas que descrevem a hierarquia da empresa. 
Cada linha tem dois inteiros, \(j\) e \(k\), separados por um espaço. 
Se o funcionário \(i\) supervisionar alguém,
os valores \(j\) e \(k\) da \(i\)-ésima linha são os números (distintos) dos dois funcionários supervisionados por \(i\).
Se o funcionário \(i\) não for supervisor de ninguém,
os valores \(j\) e \(k\) da \(i\)-ésima linha são ambos zero. <br></br>

Depois, há mais \(N\) linhas, cada uma com um inteiro \(D_i\),
que denota a quantidade de diversão do funcionário \(i\), em USD
(para \(i=1,2,\ldots,N\)).



 
<H2><A NAME="SECTION00013000000000000000">
Restrições</A>
</H2>





 <P>
  
<TABLE CELLPADDING=3>
<TR><TD ALIGN="LEFT"> </TD><TD ALIGN="LEFT">
\(3\leq N < 100\) </TD>
<TD ALIGN="LEFT">
Número de funcionários </TD></TR>
<TR><TD ALIGN="LEFT"> </TD><TD ALIGN="LEFT">
\(0\leq D_i\leq 100\) </TD>
<TD ALIGN="LEFT">Diversão do funcionário \(i\) (para \(i=1,2,\ldots,N\))
</TD></TR>
</TABLE>


<P>



<H2><A NAME="SECTION00014000000000000000">
Output</A>
</H2>


A saída tem uma única linha com a forma "\(T\) <TT>USD</TT>",
em que \(T\) é a maior quantidade total de diversão que é possível ter na festa.



<H2><A NAME="SECTION00015000000000000000">
Exemplo 1</A>
</H2>

<P>

<H3><A NAME="SECTION00015100000000000000">
Input</A>
</H3>
<PRE>
7
2 3
4 5
6 7
0 0
0 0
0 0
0 0
1
2
2
8
7
6
10
</PRE> 

<P>

<H3><A NAME="SECTION00015200000000000000">
Output</A>
</H3>
<PRE>
32 USD
</PRE> 
<P>

<H3><A NAME="SECTION00015300000000000000">
Explicação</A>
</H3>


A hierarquia da empresa está representada na seguinte figura (em que a
quantidade de diversão está anotada em negrito):

<!-- \footnotesize{
\[ \xymatrix@-1pc {
    & & & 1 (\textbf{1}) \ar@{-}[dll]\ar@{-}[drr] \\
    & 2 (\textbf{2})\ar@{-}[dl]\ar@{-}[dr]  & & & & 3 (\textbf{2})\ar@{-}[dl]\ar@{-}[dr] \\
    4 (\textbf{8}) & & 5 (\textbf{7}) &  & 6 (\textbf{6}) & & 7 (\textbf{10})
  }
  \]}
-->

<P>

<IMG
 WIDTH="367" HEIGHT="119" BORDER="0"
  SRC="expl_G1.png"
 ALT="image expl_G1" align = "center">
 <!-- width 367 height 119 -->


 <P>
 
A quantidade máxima de diversão obtém-se convidando 
  os funcionários 1, 4, 5, 6 e 7 
  (e excluindo os funcionários 2 e 3); o seu
valor é:
  \(1+8+7+6+10 = 32\) <TT> USD</TT>.


 <br></br>

<P>
 
<H2><A NAME="SECTION0001600000000000000">
Exemplo 2</A>
</H2>

<H3><A NAME="SECTION00016100000000000000">
Input</A>
</H3>
<PRE>
7
2 7
3 4
0 0
5 6
0 0
0 0
0 0
3
2
4
0
2
1
1
</PRE>

<H3><A NAME="SECTION00016200000000000000">
Output</A>
</H3>
<PRE>
10 USD
</PRE>

 <P>
 
<H3><A NAME="SECTION00016300000000000000">
Explicação</A>
</H3>

 A hierarquia da empresa pode ser esquematizada da seguinte forma:
 
<P>
 
<IMG
 WIDTH="367" HEIGHT="205" BORDER="0"
  SRC="expl_G2.png"
 ALT="image expl_G2" align = "center">
 <!-- width 367 height 205 -->
<P>

<!--
\[
  \xymatrix@-1pc {  & & & 1 (\textbf{3})\ar@{-}[dll]\ar@{-}[drr] \\
      & 2 (\textbf{2})\ar@{-}[dl]\ar@{-}[dr] &  &  & & 7 (\textbf{1}) \\
      3 (\textbf{4}) & & 4 (\textbf{0})\ar@{-}[dl]\ar@{-}[dr] \\
      & 5 (\textbf{2}) & & 6 (\textbf{1})
    }
  \]}
 -->
  
A quantidade máxima de diversão
  obtém-se convidando apenas os funcionários 1, 3, 5 e 6; o seu valor
  é: \(3+4+2+1 = 10\) <TT> USD</TT>.

<P> 
<BR><HR>
<ADDRESS>
ToPAS'2024
</ADDRESS>
</BODY>
</HTML>










